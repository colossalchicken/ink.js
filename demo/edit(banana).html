<script src="https://ink.js.org/ink.min.js"> </script> 
<button id='runButton' style='background: white; width: 25%; position: absolute; left: 0px; top: 0px; z-index: 10; ' onclick="runScript()" >Run</button><button id='resetButton' style='background: white; position: absolute; left: 0px; top: 0px; z-index: 10; width: 25% ' onclick="window.location.reload()" >Reset</button>
<title>Editor</title>
<style>
::selection {

  background: #3dcefe;
  color: white
  
}
</style>
<element contenteditable=true spellcheck='false' id='codeBox' style='cursor: text; overflow-y : scroll; color: white; background: black; resize: none; position: absolute; left: 0px; top: 20px; z-index: 10; width: 50%; height: 97%' >
<pre id="line1"><span>Banana = {
<span id="line8"></span>	type: "image",
<span id="line9"></span>	source: "https://ink.js.org/demo/banana.jpg",
<span id="line10"></span>	width: 25,
<span id="line11"></span>	x: 0,
<span id="line12"></span>	y:0,
<span id="line13"></span>	selectable: false,
<span id="line14"></span>}
<span id="line15"></span>
<span id="line16"></span>function forever(){
<span id="line18"></span>	Banana.x = mouse.x-20;
<span id="line19"></span>	Banana.y = mouse.y+5;
<span id="line20"></span>}
<span id="line21"></span>	    
<span id="line22"></span>mouse.cursor= "none";</span></pre>
</element>
<script>
window.onbeforeunload = function(){
  return "Are you sure you want to loose everything forever (a very long time)?";
}
function runScript(){
forever = ()=>{}
mouse.moved = ()=>{}
key.pressed = ()=>{}
mouse.cursor = ""
layerList = []
eval(element('codeBox').innerText)
        for (var name in this) {
            if (name !== 'styleMedia' && name !== 'event' && name !== "onmozfullscreenchange" && name !== "onmozfullscreenerror" && eval(name) !== null) {
                if (eval(name).character !== false && typeof eval(name) === 'object' && !!eval(name + ".contents") || !!eval(name + ".type") && element('codeBox').innerText.includes(name) ) {
	   if(name != 'scoreboard' || element('codeBox').innerText.includes('scoreboard') ){
                    layerList.push(name)
                    }
                }
            }
        }
}
document.documentElement.style.overflow = 'hidden'
setInterval(()=>{document.getElementById('codeBox').style.left  = window.innerWidth/2 + 'px'; document.getElementById('runButton').style.left  = window.innerWidth/2 + 'px'; document.getElementById('resetButton').style.left  = window.innerWidth/1.33 + 'px';})

runScript();
</script>
<body>

</body>
