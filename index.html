<!DOCTYPE html>
<html lang="en-US"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>ink.js | Ink.js is a simple object-based tool for creating online
 games and apps. Instead of using the normal canvas element, it uses 
real HTML.</title>
<meta name="generator" content="Jekyll v3.9.0">
<meta property="og:title" content="ink.js">
<meta property="og:locale" content="en_US">
<meta name="description" content="Ink.js is a simple object-based tool for creating online games and apps. Instead of using the normal canvas element, it uses real HTML.">
<meta property="og:description" content="Ink.js is a simple object-based tool for creating online games and apps. Instead of using the normal canvas element, it uses real HTML.">
<link rel="canonical" href="http://ink.js.org/">
<meta property="og:url" content="http://ink.js.org/">
<meta property="og:site_name" content="ink.js">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="ink.js">
<script type="application/ld+json">
{"description":"Ink.js is a simple object-based tool for creating online games and apps. Instead of using the normal canvas element, it uses real HTML.","url":"http://ink.js.org/","@type":"WebSite","headline":"ink.js","name":"ink.js","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="preconnect" href="https://fonts.gstatic.com/">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&amp;display=swap" as="style" type="text/css" crossorigin="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <style>/*! normalize.css v3.0.2 | MIT License | git.io/normalize */@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap");html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}.highlight table td{padding:5px}.highlight table pre{margin:0}.highlight .cm{color:#999988;font-style:italic}.highlight .cp{color:#999999;font-weight:bold}.highlight .c1{color:#999988;font-style:italic}.highlight .cs{color:#999999;font-weight:bold;font-style:italic}.highlight .c,.highlight .cd{color:#999988;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .gd{color:#000000;background-color:#ffdddd}.highlight .ge{color:#000000;font-style:italic}.highlight .gr{color:#aa0000}.highlight .gh{color:#999999}.highlight .gi{color:#000000;background-color:#ddffdd}.highlight .go{color:#888888}.highlight .gp{color:#555555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaaaaa}.highlight .gt{color:#aa0000}.highlight .kc{color:#000000;font-weight:bold}.highlight .kd{color:#000000;font-weight:bold}.highlight .kn{color:#000000;font-weight:bold}.highlight .kp{color:#000000;font-weight:bold}.highlight .kr{color:#000000;font-weight:bold}.highlight .kt{color:#445588;font-weight:bold}.highlight .k,.highlight .kv{color:#000000;font-weight:bold}.highlight .mf{color:#009999}.highlight .mh{color:#009999}.highlight .il{color:#009999}.highlight .mi{color:#009999}.highlight .mo{color:#009999}.highlight .m,.highlight .mb,.highlight .mx{color:#009999}.highlight .sb{color:#d14}.highlight .sc{color:#d14}.highlight .sd{color:#d14}.highlight .s2{color:#d14}.highlight .se{color:#d14}.highlight .sh{color:#d14}.highlight .si{color:#d14}.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .s{color:#d14}.highlight .na{color:#008080}.highlight .bp{color:#999999}.highlight .nb{color:#0086B3}.highlight .nc{color:#445588;font-weight:bold}.highlight .no{color:#008080}.highlight .nd{color:#3c5d5d;font-weight:bold}.highlight .ni{color:#800080}.highlight .ne{color:#990000;font-weight:bold}.highlight .nf{color:#990000;font-weight:bold}.highlight .nl{color:#990000;font-weight:bold}.highlight .nn{color:#555555}.highlight .nt{color:#000080}.highlight .vc{color:#008080}.highlight .vg{color:#008080}.highlight .vi{color:#008080}.highlight .nv{color:#008080}.highlight .ow{color:#000000;font-weight:bold}.highlight .o{color:#000000;font-weight:bold}.highlight .w{color:#bbbbbb}.highlight{background-color:#f8f8f8}*{box-sizing:border-box}body{padding:0;margin:0;font-family:"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;font-size:16px;line-height:1.5;color:#606c71}#skip-to-content{height:1px;width:1px;position:absolute;overflow:hidden;top:-10px}#skip-to-content:focus{position:fixed;top:10px;left:10px;height:auto;width:auto;background:#e19447;outline:thick solid #e19447}a{color:#1e6bb8;text-decoration:none}a:hover{text-decoration:underline}.btn{display:inline-block;margin-bottom:1rem;color:rgba(255,255,255,0.7);background-color:rgba(255,255,255,0.08);border-color:rgba(255,255,255,0.2);border-style:solid;border-width:1px;border-radius:0.3rem;transition:color 0.2s, background-color 0.2s, border-color 0.2s}.btn:hover{color:rgba(255,255,255,0.8);text-decoration:none;background-color:rgba(255,255,255,0.2);border-color:rgba(255,255,255,0.3)}.btn+.btn{margin-left:1rem}@media screen and (min-width: 64em){.btn{padding:0.75rem 1rem}}@media screen and (min-width: 42em) and (max-width: 64em){.btn{padding:0.6rem 0.9rem;font-size:0.9rem}}@media screen and (max-width: 42em){.btn{display:block;width:100%;padding:0.75rem;font-size:0.9rem}.btn+.btn{margin-top:1rem;margin-left:0}}.page-header{color:#fff;text-align:center;background-color:#159957;background-image:linear-gradient(120deg, #155799, #159957)}@media screen and (min-width: 64em){.page-header{padding:5rem 6rem}}@media screen and (min-width: 42em) and (max-width: 64em){.page-header{padding:3rem 4rem}}@media screen and (max-width: 42em){.page-header{padding:2rem 1rem}}.project-name{margin-top:0;margin-bottom:0.1rem}@media screen and (min-width: 64em){.project-name{font-size:3.25rem}}@media screen and (min-width: 42em) and (max-width: 64em){.project-name{font-size:2.25rem}}@media screen and (max-width: 42em){.project-name{font-size:1.75rem}}.project-tagline{margin-bottom:2rem;font-weight:normal;opacity:0.7}@media screen and (min-width: 64em){.project-tagline{font-size:1.25rem}}@media screen and (min-width: 42em) and (max-width: 64em){.project-tagline{font-size:1.15rem}}@media screen and (max-width: 42em){.project-tagline{font-size:1rem}}.main-content{word-wrap:break-word}.main-content :first-child{margin-top:0}@media screen and (min-width: 64em){.main-content{max-width:64rem;padding:2rem 6rem;margin:0 auto;font-size:1.1rem}}@media screen and (min-width: 42em) and (max-width: 64em){.main-content{padding:2rem 4rem;font-size:1.1rem}}@media screen and (max-width: 42em){.main-content{padding:2rem 1rem;font-size:1rem}}.main-content kbd{background-color:#fafbfc;border:1px solid #c6cbd1;border-bottom-color:#959da5;border-radius:3px;box-shadow:inset 0 -1px 0 #959da5;color:#444d56;display:inline-block;font-size:11px;line-height:10px;padding:3px 5px;vertical-align:middle}.main-content img{max-width:100%}.main-content h1,.main-content h2,.main-content h3,.main-content h4,.main-content h5,.main-content h6{margin-top:2rem;margin-bottom:1rem;font-weight:normal;color:#159957}.main-content p{margin-bottom:1em}.main-content code{padding:2px 4px;font-family:Consolas, "Liberation Mono", Menlo, Courier, monospace;font-size:0.9rem;color:#567482;background-color:#f3f6fa;border-radius:0.3rem}.main-content pre{padding:0.8rem;margin-top:0;margin-bottom:1rem;font:1rem Consolas, "Liberation Mono", Menlo, Courier, monospace;color:#567482;word-wrap:normal;background-color:#f3f6fa;border:solid 1px #dce6f0;border-radius:0.3rem}.main-content pre>code{padding:0;margin:0;font-size:0.9rem;color:#567482;word-break:normal;white-space:pre;background:transparent;border:0}.main-content .highlight{margin-bottom:1rem}.main-content .highlight pre{margin-bottom:0;word-break:normal}.main-content .highlight pre,.main-content pre{padding:0.8rem;overflow:auto;font-size:0.9rem;line-height:1.45;border-radius:0.3rem;-webkit-overflow-scrolling:touch}.main-content pre code,.main-content pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.main-content pre code:before,.main-content pre code:after,.main-content pre tt:before,.main-content pre tt:after{content:normal}.main-content ul,.main-content ol{margin-top:0}.main-content blockquote{padding:0 1rem;margin-left:0;color:#819198;border-left:0.3rem solid #dce6f0}.main-content blockquote>:first-child{margin-top:0}.main-content blockquote>:last-child{margin-bottom:0}.main-content table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all;-webkit-overflow-scrolling:touch}.main-content table th{font-weight:bold}.main-content table th,.main-content table td{padding:0.5rem 1rem;border:1px solid #e9ebec}.main-content dl{padding:0}.main-content dl dt{padding:0;margin-top:1rem;font-size:1rem;font-weight:bold}.main-content dl dd{padding:0;margin-bottom:1rem}.main-content hr{height:2px;padding:0;margin:1rem 0;background-color:#eff0f1;border:0}.site-footer{padding-top:2rem;margin-top:2rem;border-top:solid 1px #eff0f1}@media screen and (min-width: 64em){.site-footer{font-size:1rem}}@media screen and (min-width: 42em) and (max-width: 64em){.site-footer{font-size:1rem}}@media screen and (max-width: 42em){.site-footer{font-size:0.9rem}}.site-footer-owner{display:block;font-weight:bold}.site-footer-credits{color:#819198}
</style>
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
      <h1 class="project-name">ink.js</h1>
      <h2 class="project-tagline">Ink.js is a simple object-based tool 
for creating online games and apps. Instead of using the normal canvas 
element, it uses real HTML.</h2>
      
        <a href="https://github.com/coolprofessor/ink.js" class="btn">View on GitHub</a>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <p>Ink.js is an object-oriented tool for creating online apps and games. It is simple, and does not require any installation.
<br><br>
To use ink, add this script to your HTML:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;script src="https://ink.js.org/ink.min.js" &gt; &lt;/script&gt;
</code></pre></div></div>

<hr>
<p><br>
To add a character, create an object with its properties.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Banana = {
	type: "image",
	source: "https://ink.js.org/demo/banana.png",
 		width: 25,
 		x: 0,
 		y:0,
};
</code></pre></div></div>

<p><br></p>

<blockquote>
  <p>Ink.js only notices an object if it has a <code class="language-plaintext highlighter-rouge">type</code> or <code class="language-plaintext highlighter-rouge">contents</code> property. 
To change how the characters overlap, use <code class="language-plaintext highlighter-rouge">layerList</code>.</p>
</blockquote>

<p><br></p>

<p>To add functionality, use the forever function to repeat the code indefinitely.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function forever(){
	Banana.x = mouse.x;
	Banana.y = mouse.y;
}
</code></pre></div></div>

<p>output:</p>

<blockquote>
  <p><a href="https://ink.js.org/demo/banana.gif" width="150"></a></p>
</blockquote>

<p>A full description of this can be found in the <a href="https://github.com/coolprofessor/ink.js/wiki#welcome-to-the-inkjs-wiki">wiki</a>.
<br></p>
<blockquote>
  <p>This site is in no way related to <a href="https://ink.sapo.pt/">ink.sapo.pt</a>.</p>
</blockquote>


      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/coolprofessor/ink.js">ink.js</a> is maintained by <a href="https://github.com/coolprofessor">coolprofessor</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com/">GitHub Pages</a>.</span>
      </footer>
    </main>
  <script>(function() {
  if (window.top === window.self) {
    const tabId = sessionStorage.tabId ? sessionStorage.tabId : sessionStorage.tabId = Math.random() * 16;
    console.log('Top level document: ' + window.location.href);

    const saReport = function () {
      const a = document.createElement('A');
      a.href = window.location.href;

      const xhr = new XMLHttpRequest();
      const body = {
        url: sessionStorage[tabId + '-href'],
        tabId: tabId
      };
      xhr.open('POST', document.location.origin + '/804b6a064214fed530c4f76a5778a475265c4e5115331033ea6991e918075552/log', true);
      xhr.send(JSON.stringify(body));

    };

    const saTicker = function () {
      setTimeout(() => {
        if (parent.document.URL !== sessionStorage[tabId + '-href']) {
          sessionStorage[tabId + '-href'] = parent.document.URL;
          console.log('LS: Ticker: ' + sessionStorage[tabId + '-href'] + ', ' + window.location.href);
          saReport();
        }
        saTicker();
      }, 1000);
    };

    if (window.location.href.match(/(^|\.)youtube\./)) {
      const style = document.createElement('STYLE');
      const params = undefined;
      const flaggedTerms = undefined;
      let killYTAutoplayInt;
      let hideYTAvatarInt;
      const a = document.createElement('A');
      a.href = window.location.href;

      console.log('YouTube injection');

      const applyYouTube = function () {
        const xhr = new XMLHttpRequest();
        const body = {
          code: 'settings',
          url: window.location.href
        };
        xhr.open('POST', document.location.origin + '/804b6a064214fed530c4f76a5778a475265c4e5115331033ea6991e918075552/ytconf', true);
        xhr.send(JSON.stringify(body));

        xhr.onreadystatechange = function () {
          if (this.status === 200 && xhr.responseText) {
            console.log('Applying YouTube settings...');
            const ytSettings = JSON.parse(xhr.responseText);
            console.log(JSON.stringify(ytSettings));
            if (ytSettings.score && ytSettings.score.blocked) {
              window.location.href = ytSettings.score.redirect;
            } else {
              configureYoutube(ytSettings);
            }
          }
        };
      };

      const configureYoutube = function (ytSettings) {
        if (typeof(ytSettings) === 'undefined') {
          return;
        }
      
        style.type = 'text/css';
        style.innerText = '';
        if (ytSettings.youtube_hide_sidebar) {
          style.innerText += '.watch-sidebar, .ytd-watch-next-secondary-results-renderer {display: none !important;}\n';
        }
        if (ytSettings.youtube_hide_comments) {
          style.innerText += '#watch-discussion, .watch-discussion, ytd-comments {display: none !important;}\n';
        }
        if (typeof(killYTAutoplayInt) !== 'undefined') {
          clearInterval(killYTAutoplayInt);
          killYTAutoplayInt = undefined;
        }
        if (ytSettings.youtube_prevent_channel_autoplay) {
          killYTAutoplayInt = setInterval(killYTAutoplay, 1000);
        }
        if (typeof(hideYTAvatarInt) !== 'undefined') {
          clearInterval(hideYTAvatarInt);
          hideYTAvatarInt = undefined;
        }

        if (ytSettings.youtube_hide_thumbnails) {
          hideYTAvatars();
          hideYTAvatarInt = setInterval(hideYTAvatars, 1000);
        }
        if (style.innerText !== '') {
          let head = document.getElementsByTagName('head');
          if (head && head.length > 0) {
            head = head[0];
            head.append(style);
          }
        }
      };

      const blockYTImg = '/804b6a064214fed530c4f76a5778a475265c4e5115331033ea6991e918075552/blocked-yt-image.png';
      function hideYTAvatars() {
        const a = [...document.querySelectorAll('#avatar')];
        a.forEach((t) => {
          [...t.getElementsByTagName('img')].forEach((i) => {
            if (i.src !== blockYTImg) {
              i.src = blockYTImg;
            }
          });
        });
      };

      function killYTAutoplay () {
        let ul, playerById, players;
        // Make sure our anchor has the latest
        a.href = window.location.href;
        if (a.hostname.match(/(^|\.)youtube\./)) {
          if (
            a.pathname.match(/^\/user\/[^\/\?]+$/)
            ||
            a.pathname.match(/^\/channel\/[^\/\?]+$/)
            ||
            a.pathname.match(/\/featured$/)
          ) {
            ul = document.getElementById('browse-items-primary');
            playerById = document.getElementById('player-container');
            if (playerById !== null && typeof(playerById) !== 'undefined') {
              playerById.parentElement.style.visibility = 'hidden';
            }
            if (ul !== null && typeof(ul) !== 'undefined') {
              players = ul.getElementsByClassName('video-player-view-component');
              if (typeof(players[0]) !== 'undefined') {
                players[0].style.visibility = 'hidden';
              }
            }
            const html5player = document.getElementById('c4-player');
            if (html5player !== null && typeof(html5player) !== 'undefined') {
              const actualCode = '(' + function () {
                document.getElementById('c4-player').pauseVideo();
                ul = document.getElementById('browse-items-primary');
                playerById = document.getElementById('player-container');
                if (playerById !== null && typeof(playerById) !== 'undefined') {
                //playerById.parentElement.remove();
                }
                if (ul !== null && typeof(ul) !== 'undefined') {
                  players = ul.getElementsByClassName('video-player-view-component');
                  if (players[0] !== null && typeof(players[0]) !== 'undefined') {
                  //players[0].remove();
                  }
                }
              } + ')();';
              const script = document.createElement('script');
              script.textContent = actualCode;
              (document.head || document.documentElement).appendChild(script);
              script.remove();
            }
          }
        }
      };

      let path;
      function watchDog() {
        if (path !== window.location.href) {
          applyYouTube();
          path = window.location.href;
        }
        if (!style.parentElement) {
          let head = document.getElementsByTagName('head');
          if (head && head.length > 0) {
            head = head[0];
            head.append(style);
          }
        }
      }
      setInterval(watchDog, 1000);
      watchDog();
    };


    saTicker();
  }
}).call(this);
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){

const a = document.createElement('A');
a.href = window.location.href;
const FlagEngine = require('./in_page/in_page_flags');

const setupFlagScanning = function(terms, ignoredSites) {
  if (window.relay_log === 'debug') { console.debug('[setupFlagScanning]');}
  if (!Array.isArray(ignoredSites)) { ignoredSites = [];}
  if (terms && terms.length > 0) {
    if (window.relay_log === 'debug') { console.debug('[setupFlagScanning] terms found, starting scanning engine.'); }
    let scanInterval;
    const flagger = new FlagEngine(a);
    flagger.Initialize(terms, ignoredSites).then(() => {
      if (typeof(scanInterval) !== 'undefined') {
        clearInterval(scanInterval);
      }
      const scanAndReport = () => {
        if (window.relay_log === 'debug') { console.debug('[scanAndReport]'); }
        try {
          // Make sure we are up to date on our url
          if (window.location.href !== a.href) {
            if (window.relay_log === 'debug') { console.debug('[scanAndReport] location changed, treating as a new page'); }
            a.href = window.location.href;
          }
          const flags = flagger.Scan();
          if (Array.isArray(flags) && flags.length > 0) {
            if (window.relay_log === 'debug') { console.debug('[scanAndReport] flags found, reporting them: ', flags); }
            flagger.Report(flags);
          }
        } catch (e) {
          console.error(e);
        }
      };
      scanInterval = setInterval(scanAndReport, 5000);
      scanAndReport();
    }).catch(console.error);
  }
};
setupFlagScanning([], ["higherlogicdownload.s3.amazonaws.com","azureedge.net","promethean-wbs.relay.splashtop.com","api.microsofttranslator.com","promethean.api.splashtop.com","ajax.googleapis.com","132.245.113.27","52.112.64.205","205.197.193.194","216.137.43.39","54.230.7.122","52.10.233.33","52.32.20.230","52.32.52.40","52.25.92.8","52.25.244.19","52.33.219.203","52.11.184.124","52.33.219.220","52.32.153.108","52.34.119.231","50.112.128.251","216.115.208.230","17.253.2.253","54.243.182.228","54.243.182.235","54.243.223.132","17.249.121.246","17.171.47.65","17.249.105.246","17.253.3.205","17.171.47.17","17.173.65.113","17.249.172.22","17.173.66.101","17.149.240.70","17.167.192.244","17.167.194.149","17.173.65.116","4169e1.com","agarioplay.org","splashtop.com","advocacollege.pw","alltypehacks.net","10times.com","craigslist.com","4.zippyshare.com","9.zippyshare.com","8.zippyshare.com","104.16.74.71","download.canadiancontent.net/psiphon.html","sites.google.com/site/unblockedaddictinggames","sites.google.com/site/unblockedgames4me","sites.google.com/site/unblockedgames66","sites.google.com/site/unblockedgames77","sites.google.com/site/unblockedgamesonlinefree","conceptsmetadl.com","whatsapp.com","*https://www.depression-understood.org//mainchat/mainchat.htm*","https://www.depression-understood.org/mainchat/mainchat.htm","https://sites.google.com/site/tyronesgameshack","https://discord.com/","localhost"]);

},{"./in_page/in_page_flags":5}],2:[function(require,module,exports){
class FacebookFlags {
  constructor(urlObject) {
    if (typeof(urlObject) === 'undefined') { throw new Error('URL OBject required');}
    this.disabled = true;
    this.moduleName = 'facebook';
    if (urlObject.hostname.match(/\.?facebook\.com$/i)) {
      this.disabled = false;
    }
  }

  GatherIntent() {
    if (this.disabled) { return;}
    const ret = [];
    const elements = document.querySelectorAll('[data-text="true"]');
    elements.forEach((e) => {
      ret.push(e.innerText);
    });
    return ret;
  }
}

module.exports = FacebookFlags;

},{}],3:[function(require,module,exports){
class GmailFlags {
  constructor(urlObject) {
    if (typeof(urlObject) === 'undefined') { throw new Error('URL OBject required');}
    this.disabled = true;
    this.moduleName = 'gmail';
    if (urlObject.hostname.match(/mail\.google\.com$/i)) {
      this.disabled = false;
    }
  }

  GatherIntent() {
    if (this.disabled) { return;}
    const ret = [];
    const elements = document.querySelectorAll('[role="textbox"]');
    elements.forEach((e) => {
      ret.push(e.innerText);
    });
    return ret;
  }
}

module.exports = GmailFlags;

},{}],4:[function(require,module,exports){
class GoogleDoc {
  constructor(urlObject) {
    if (typeof(urlObject) === 'undefined') { throw new Error('URL OBject required');}
    this.disabled = true;
    this.moduleName = 'google_doc';
    if (urlObject.hostname.match(/docs\.google\.com$/i)) {
      this.disabled = false;
    }
  }

  GatherIntent() {
    if (this.disabled) { return;}
    const ret = [document.body.innerText];
    return ret;
  }
}

module.exports = GoogleDoc;

},{}],5:[function(require,module,exports){
const supportedDOMEvents = ['change', 'keyup'];
const FB = require('./facebook_flags');
const Twitter = require('./twitter_flags');
const Gmail = require('./gmail_flags');
const GoogleDoc = require('./google_doc_flags');
const MSOffice = require('./ms_office_flags');
class Flags {
  constructor(urlObject) {
    if (typeof(urlObject) === 'undefined') {
      throw new Error('url object required');
    }
    this.UrlObject = urlObject;
    this.terms = [];
    this.lastBodyText = '';
    this.target = {};
    this.initialized = false;
    this.reportedTerms = {};
    this.modules = [];
    const fbModule = new FB(urlObject);
    if (!fbModule.disabled) {
      this.modules.push(fbModule);
    }
    const twitterModule = new Twitter(urlObject);
    if (!twitterModule.disabled) {
      this.modules.push(twitterModule);
    }
    const gmailModule = new Gmail(urlObject);
    if (!gmailModule.disabled) {
      this.modules.push(gmailModule);
    }
    const googleDocModule = new GoogleDoc(urlObject);
    if (!googleDocModule.disabled) {
      this.modules.push(googleDocModule);
    }
    const msOfficeModule = new MSOffice(urlObject);
    if (!msOfficeModule.disabled) {
      this.modules.push(msOfficeModule);
    }
  }

  DOMExtractAndScan(event) {
    if (typeof(event.target) === 'undefined') { throw new Error('event has no target');}
    let values;
    let scanType;
    switch (event.type) {
    case 'scan':
      scanType = 'GatherIntent';
      break;
    default:
      scanType = event.target.tagName.toLowerCase();
      break;
    }

    switch (scanType) {
    case 'input':
      let type = event.target.type || 'text';
      type = type.toLowerCase();
      // Dont scan password fields
      if (type === 'password') { break;}
      values = [event.target.value];
      break;
    case 'textarea':
      values = [event.target.value];
      break;
    default:
      values = [];
      this.modules.forEach((module) => {
        if (typeof(module.GatherIntent) === 'function') {
          const intent = module.GatherIntent();
          if (typeof(intent) === 'string') {
            values.push(intent);
          } else if (Array.isArray(intent)) {
            values = values.concat(intent);
          }
        }
      });
      break;
    }
    if (typeof(values) !== 'undefined') {
      values.forEach((value) => {
        if (value === '') {
          this.target.RelayFlaggedTerms = {};
        } else {
          if (typeof(this.target.RelayFlaggedTerms) === 'undefined') {
            this.target.RelayFlaggedTerms = {};
          }
          const flags = this.Scan(value);
          const toReport = [];
          flags.forEach((flag) => {
            const term = flag[0];
            const cnt = flag[1];
            flag[2] = true; // mark it as user entered
            if (typeof(this.target.RelayFlaggedTerms[term]) === 'undefined') {
              this.target.RelayFlaggedTerms[term] = cnt;
              toReport.push(flag);
            } else {
              if (this.target.RelayFlaggedTerms[term] < cnt) {
                // Only report the new difference
                flag[1] = cnt - this.target.RelayFlaggedTerms[term];
                this.target.RelayFlaggedTerms[term] += flag[1];
                toReport.push(flag);
              }
            }
          });
          if (toReport.length > 0) {
            this.Report(toReport);
          }
        }
      });
    }
  }

  HandleDOM_change(event) {
    if (typeof(event) === 'undefined') { throw new Error('event required');}
    if (event.type !== 'change') { throw new Error('event must be a change event');}
    if (typeof(event.target) === 'undefined') { throw new Error('event has no target');}
    if (typeof(event.target.tagName) === 'undefined') { return;}
    if (this.ShouldIgnore()) { return;}
    this.DOMExtractAndScan(event);
  }

  HandleDOM_keyup(event) {
    if (typeof(event) === 'undefined') { throw new Error('event required');}
    if (event.type !== 'keyup') { throw new Error('event must be a keyup event');}
    if (typeof(event.target) === 'undefined') { throw new Error('event has no target');}
    if (typeof(event.target.tagName) === 'undefined') { return;}
    if (this.ShouldIgnore()) { return;}
    this.DOMExtractAndScan(event);
  }

  HandleDOM(event) {
    if (typeof(event) === 'undefined') { throw new Error('event required');}
    if (supportedDOMEvents.indexOf(event.type) === -1) {
      throw new Error(`unsupported event type - ${event.type}`);
    }
    if (typeof(this[`HandleDOM_${event.type}`]) === 'function') {
      this[`HandleDOM_${event.type}`](event);
    }
  };

  BindToDOM() {
    document.addEventListener('change', this.HandleDOM.bind(this));
    document.addEventListener('keyup', this.HandleDOM.bind(this));
    setInterval(() => {
      this.DOMExtractAndScan(new Event('scan'));
    }, 1000);
  }

  Initialize(terms, ignoredSites) {
    if (!Array.isArray(terms)) { throw new Error('terms required');}
    if (!Array.isArray(ignoredSites)) { throw new Error('ignoredSites required');}
    return new Promise((resolve, reject) => {
      this.terms = [];
      terms.forEach((term) => {
        const args = {term: term};
        let regexTerm = term.replace(/[\]{}?^$().*\\+|[]/g, '\\$&');
        regexTerm = regexTerm.replace(/\\\*/g, '.*');
        regexTerm = regexTerm.replace(/\\\?/g, '.');
        args.regex = new RegExp('\\b' + regexTerm + '\\b','gi');
        this.terms.push(args);
      });
      this.ignoredSites = ignoredSites;
      this.initialized = true;
      this.BindToDOM();
      resolve();
    });
  }

  SiteMatchers() {
    if (typeof(this.siteMatchers) !== 'undefined') { return this.siteMatchers;}
    if (!Boolean(this.initialized)) { throw new Error('Initialization required');}
    try {
      this.siteMatchers = [];
      this.ignoredSites.forEach((site) => {
        if (typeof(site) === 'object') {
          if (Boolean(site.r)) {
            this.siteMatchers.push(
              new RegExp(site.url, 'i')
            );
          }
        } else if (typeof(site) === 'string') {
          if (site.match(/^([\w\d-]{1,63}\.)+[\w\d-]{1,63}$/i)) {
            this.siteMatchers.push(site.toLowerCase().split('.'));
          } else {
            let escapedUrl = site.replace(/[\]{}?^$().*\\+|[]/g, '\\$&');
            escapedUrl = escapedUrl.replace(/\\\*/g, '.*');
            this.siteMatchers.push(new RegExp('^' + escapedUrl + '$', 'i'));
          }
        }
      });
    } catch (e) {
      this.siteMatchers = undefined;
      throw e;
    }
    return this.siteMatchers;
  }

  ShouldIgnore() {
    if (!Boolean(this.initialized)) { throw new Error('Initialization required');}
    let ignore = false;
    const parts = this.UrlObject.hostname.toLowerCase().split('.');
    this.SiteMatchers().some((site) => {
      if (Object.prototype.toString.call(site) === '[object Array]') {
        const al = site.length;
        const pl = site.length;
        if (al <= pl) {
          for (let i=0; i<al; i++) {
            if (site[(al-1)-i] !== parts[(pl-1)-i]) {
              return false;
            }
          }
          ignore = true;
          return true;
        }
      } else if (this.UrlObject.href.match(site)) {
        ignore = true;
        return true;
      }
    });
    return ignore;
  }

  Scan(input) {
    const flags = [];
    let currentText = '';
    let customInput = false;
    if (!Boolean(this.initialized)) { throw new Error('Initialization required');}
    if (typeof(input) !== 'undefined' && typeof(input) !== 'string') { throw new Error('string required');}
    if (this.ShouldIgnore()) { return flags;}
    if (typeof(this.reportedTerms[this.UrlObject.href]) === 'undefined') {
      this.reportedTerms[this.UrlObject.href] = {};
    }
    if (typeof(input) === 'undefined') {
      currentText = document.body.innerText;
      // Already scaned this.
      if (currentText === this.lastBodyText) {
        return;
      }
    } else {
      currentText = input;
      customInput = true;
    }

    this.terms.forEach((args) => {
      const hits = currentText.match(args.regex);
      if (hits !== null && typeof(hits) !== 'undefined' && hits.length > 0) {
        if (typeof(this.reportedTerms[this.UrlObject.href][args.term]) === 'undefined') {
          flags.push([args.term, hits.length]);
          this.reportedTerms[this.UrlObject.href][args.term] = hits.length;
        } else if (customInput) {
          flags.push([args.term, hits.length]);
        }
      }
    });
    return flags;
  }

  Report(flags) {
    if (window.relay_log === 'debug') { console.debug('[Flagger.Report]'); }
    if (!Array.isArray(flags)) { throw new Error('flags must be an array');}
    if (flags.length === 0) { return;}
    const xhr = new XMLHttpRequest();
    xhr.open('POST', document.location.origin + '/804b6a064214fed530c4f76a5778a475265c4e5115331033ea6991e918075552/log_flag', true);
    if (window.relay_log === 'debug') { console.debug('[Flagger.Report] - sending xhr'); }
    xhr.send(JSON.stringify({
      flags: {
        href: this.UrlObject.href,
        hits: flags
      }
    }));
  }
};
module.exports = Flags;

},{"./facebook_flags":2,"./gmail_flags":3,"./google_doc_flags":4,"./ms_office_flags":6,"./twitter_flags":7}],6:[function(require,module,exports){
class MSOffice {
  constructor(urlObject) {
    if (typeof(urlObject) === 'undefined') { throw new Error('URL OBject required');}
    this.disabled = true;
    this.moduleName = 'ms_office';
    this.hostname = urlObject.hostname.toLowerCase();
    this.disabled = this.setDisabled();
  }

  GatherIntent() {
    if (this.disabled) { return;}
    const ret = [document.body.innerText];
    return ret;
  }

  setDisabled() {
    const hostParts = this.hostname.split('.');
    const len = hostParts.length;
    if (!hostParts[len - 2]) { return true;}
    let domainName = hostParts[len - 2];
    let subDomainName = hostParts[len - 3];
    if (domainName === 'co' && hostParts[len - 1] === 'uk') {
      domainName = hostParts[len - 3];
      subDomainName = hostParts[len-4];
    }

    switch (domainName) {
      case 'live':
      case 'office':
      case 'office365':
        break;
      default:
        return true;
    }
    switch (subDomainName) {
      case 'officeapps':
      case 'outlook':
        return false;
      default:
        return true;
    }
  }
}

module.exports = MSOffice;

},{}],7:[function(require,module,exports){
class Twitter {
  constructor(urlObject) {
    if (typeof(urlObject) === 'undefined') { throw new Error('URL OBject required');}
    this.disabled = true;
    this.moduleName = 'twitter';
    if (urlObject.hostname.match(/\.?twitter\.com$/i)) {
      this.disabled = false;
    }
  }

  GatherIntent() {
    if (this.disabled) { return;}
    const ret = [];
    const elements = document.querySelectorAll('.tweet-box.rich-editor');
    elements.forEach((e) => {
      ret.push(e.innerText);
    });
    return ret;
  }
}

module.exports = Twitter;

},{}]},{},[1]);
</script>


</body></html>